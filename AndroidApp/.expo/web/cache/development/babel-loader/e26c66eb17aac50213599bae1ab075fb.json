{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { getRoomCookieDefault, setRoomCookieDefault } from \"helpers/roomUtils\";\nimport { setCurrentRoom } from \"./actions\";\nimport { GET_ROOM_LIST, GET_ROOM_LIST_SUCCESS, GET_ROOM_LIST_FAILED, SET_CURR_ROOM, CREATE_ROOM, CREATE_ROOM_SUCCESS, CREATE_ROOM_FAILED, UPDATE_ROOM, UPDATE_ROOM_SUCCESS, UPDATE_ROOM_FAILED, DELETE_ROOM, DELETE_ROOM_SUCCESS, DELETE_ROOM_FAILED, GET_CURR_ROOM_INFO, GET_CURR_ROOM_INFO_SUCCESS, GET_CURR_ROOM_INFO_FAILED } from \"./constants\";\nvar INIT_STATE = {\n  loading: false,\n  error: null,\n  myRoom: [],\n  sharedRoom: [],\n  currentRoom: getRoomCookieDefault(),\n  currentRoomInfo: null\n};\n\nvar RoomList = function RoomList() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INIT_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_ROOM_LIST:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: null\n      });\n\n    case GET_ROOM_LIST_SUCCESS:\n      var rooms = action.payload.accesses;\n      var newMyRoom = rooms.filter(function (e) {\n        return e.role === \"Owner\";\n      });\n      var newSharedRoom = rooms.filter(function (e) {\n        return e.role != \"Owner\";\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        error: null,\n        myRoom: newMyRoom,\n        sharedRoom: newSharedRoom,\n        currentRoom: getRoomCookieDefault() ? getRoomCookieDefault() : newMyRoom[0] ? newMyRoom[0] : newSharedRoom[0] ? newSharedRoom[0] : {\n          role: \"Viewer\",\n          room: {\n            _id: undefined,\n            name: \"Chưa có kho lạnh nào\"\n          }\n        }\n      });\n\n    case GET_ROOM_LIST_FAILED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        myRoom: [],\n        sharedRoom: [],\n        error: action.payload.error,\n        currentRoom: null\n      });\n\n    case SET_CURR_ROOM:\n      setRoomCookieDefault(action.payload.room);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: null,\n        currentRoom: action.payload.room\n      });\n\n    case GET_CURR_ROOM_INFO:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: null,\n        currentRoomInfo: null\n      });\n\n    case GET_CURR_ROOM_INFO_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        error: null,\n        currentRoomInfo: action.payload.room\n      });\n\n    case GET_CURR_ROOM_INFO_FAILED:\n      setRoomCookieDefault(null);\n      return _objectSpread(_objectSpread(_objectSpread({}, state), state), {}, {\n        loading: false,\n        error: action.payload.error,\n        currentRoomInfo: null\n      });\n\n    case CREATE_ROOM:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: null\n      });\n\n    case CREATE_ROOM_SUCCESS:\n      var newRoom = {\n        role: \"Owner\",\n        room: {\n          _id: action.payload.room._id,\n          name: action.payload.room.name\n        }\n      };\n\n      var newListMyRoom = _toConsumableArray(state.myRoom);\n\n      newListMyRoom.push(newRoom);\n      setRoomCookieDefault(newRoom);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        error: null,\n        myRoom: newListMyRoom,\n        currentRoom: newRoom\n      });\n\n    case CREATE_ROOM_FAILED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        error: action.payload.error\n      });\n\n    case UPDATE_ROOM:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: null\n      });\n\n    case UPDATE_ROOM_SUCCESS:\n      var tempUpdateRoom = {\n        role: state.currentRoom.role,\n        room: _objectSpread(_objectSpread({}, state.currentRoom.room), {}, {\n          name: action.payload.room.name\n        })\n      };\n      var newSharedRoomU = null;\n      var newMyRoomU = null;\n\n      if (tempUpdateRoom.role === \"Owner\") {\n        newMyRoomU = _toConsumableArray(state.myRoom);\n        newMyRoomU = newMyRoomU.map(function (it) {\n          return it.room._id === tempUpdateRoom.room._id ? tempUpdateRoom : it;\n        });\n      } else {\n        newSharedRoomU = _toConsumableArray(state.sharedRoom);\n        newSharedRoomU = newSharedRoomU.map(function (it) {\n          return it.room._id === tempUpdateRoom.room._id ? tempUpdateRoom : it;\n        });\n      }\n\n      setRoomCookieDefault(tempUpdateRoom);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        error: null,\n        currentRoomInfo: action.payload.room,\n        currentRoom: tempUpdateRoom,\n        myRoom: newMyRoomU ? newMyRoomU : state.myRoom,\n        sharedRoom: newSharedRoomU ? newSharedRoomU : state.sharedRoom\n      });\n\n    case UPDATE_ROOM_FAILED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        error: action.payload.error\n      });\n\n    case DELETE_ROOM:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: null\n      });\n\n    case DELETE_ROOM_SUCCESS:\n      var tempShareRoom = _toConsumableArray(state.sharedRoom).filter(function (r) {\n        return r.room._id !== action.payload.room_id;\n      });\n\n      var tempMyRoom = _toConsumableArray(state.myRoom).filter(function (r) {\n        return r.room._id !== action.payload.room_id;\n      });\n\n      var tempCurrent = tempMyRoom[0] ? tempMyRoom[0] : tempShareRoom[0] ? tempShareRoom[0] : {\n        role: \"Viewer\",\n        room: {\n          _id: undefined,\n          name: \"Chưa có kho lạnh nào\"\n        }\n      };\n      setRoomCookieDefault(null);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        sharedRoom: tempShareRoom,\n        myRoom: tempMyRoom,\n        currentRoom: tempCurrent,\n        error: null\n      });\n\n    case DELETE_ROOM_FAILED:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        error: action.payload.error\n      });\n\n    default:\n      return _objectSpread({}, state);\n  }\n};\n\nexport default RoomList;","map":{"version":3,"sources":["D:/GIT HUB/NCKH2020/KHAN/AndroidApp/src/redux/roomList/reducers.js"],"names":["getRoomCookieDefault","setRoomCookieDefault","setCurrentRoom","GET_ROOM_LIST","GET_ROOM_LIST_SUCCESS","GET_ROOM_LIST_FAILED","SET_CURR_ROOM","CREATE_ROOM","CREATE_ROOM_SUCCESS","CREATE_ROOM_FAILED","UPDATE_ROOM","UPDATE_ROOM_SUCCESS","UPDATE_ROOM_FAILED","DELETE_ROOM","DELETE_ROOM_SUCCESS","DELETE_ROOM_FAILED","GET_CURR_ROOM_INFO","GET_CURR_ROOM_INFO_SUCCESS","GET_CURR_ROOM_INFO_FAILED","INIT_STATE","loading","error","myRoom","sharedRoom","currentRoom","currentRoomInfo","RoomList","state","action","type","rooms","payload","accesses","newMyRoom","filter","e","role","newSharedRoom","room","_id","undefined","name","newRoom","newListMyRoom","push","tempUpdateRoom","newSharedRoomU","newMyRoomU","map","it","tempShareRoom","r","room_id","tempMyRoom","tempCurrent"],"mappings":"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","sourcesContent":["import { getRoomCookieDefault, setRoomCookieDefault } from \"helpers/roomUtils\";\r\nimport { setCurrentRoom } from \"./actions\";\r\nimport {\r\n  GET_ROOM_LIST,\r\n  GET_ROOM_LIST_SUCCESS,\r\n  GET_ROOM_LIST_FAILED,\r\n  SET_CURR_ROOM,\r\n  CREATE_ROOM,\r\n  CREATE_ROOM_SUCCESS,\r\n  CREATE_ROOM_FAILED,\r\n  UPDATE_ROOM,\r\n  UPDATE_ROOM_SUCCESS,\r\n  UPDATE_ROOM_FAILED,\r\n  DELETE_ROOM,\r\n  DELETE_ROOM_SUCCESS,\r\n  DELETE_ROOM_FAILED,\r\n  GET_CURR_ROOM_INFO,\r\n  GET_CURR_ROOM_INFO_SUCCESS,\r\n  GET_CURR_ROOM_INFO_FAILED,\r\n} from \"./constants\";\r\n\r\nconst INIT_STATE = {\r\n  loading: false,\r\n  error: null,\r\n  myRoom: [],\r\n  sharedRoom: [],\r\n  currentRoom: getRoomCookieDefault(),\r\n  currentRoomInfo: null,\r\n};\r\n\r\nconst RoomList = (state = INIT_STATE, action) => {\r\n  switch (action.type) {\r\n    case GET_ROOM_LIST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n      };\r\n    case GET_ROOM_LIST_SUCCESS:\r\n      const rooms = action.payload.accesses;\r\n      const newMyRoom = rooms.filter((e) => e.role === \"Owner\");\r\n      const newSharedRoom = rooms.filter((e) => e.role != \"Owner\");\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        myRoom: newMyRoom,\r\n        sharedRoom: newSharedRoom,\r\n        currentRoom: getRoomCookieDefault()\r\n          ? getRoomCookieDefault()\r\n          : newMyRoom[0]\r\n          ? newMyRoom[0]\r\n          : newSharedRoom[0]\r\n          ? newSharedRoom[0]\r\n          : {\r\n              role: \"Viewer\",\r\n              room: {\r\n                _id: undefined,\r\n                name: \"Chưa có kho lạnh nào\",\r\n              },\r\n            },\r\n      };\r\n\r\n    case GET_ROOM_LIST_FAILED:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        myRoom: [],\r\n        sharedRoom: [],\r\n        error: action.payload.error,\r\n        currentRoom: null,\r\n      };\r\n\r\n    case SET_CURR_ROOM:\r\n      setRoomCookieDefault(action.payload.room);\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n        currentRoom: action.payload.room,\r\n      };\r\n    case GET_CURR_ROOM_INFO:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n        currentRoomInfo: null,\r\n      };\r\n    case GET_CURR_ROOM_INFO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        currentRoomInfo: action.payload.room,\r\n      };\r\n    case GET_CURR_ROOM_INFO_FAILED:\r\n      setRoomCookieDefault(null);\r\n      return {\r\n        ...state,\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n        currentRoomInfo: null,\r\n      };\r\n\r\n    case CREATE_ROOM:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n      };\r\n    case CREATE_ROOM_SUCCESS:\r\n      let newRoom = {\r\n        role: \"Owner\",\r\n        room: {\r\n          _id: action.payload.room._id,\r\n          name: action.payload.room.name,\r\n        },\r\n      };\r\n      let newListMyRoom = [...state.myRoom];\r\n      newListMyRoom.push(newRoom);\r\n      setRoomCookieDefault(newRoom);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        myRoom: newListMyRoom,\r\n        currentRoom: newRoom,\r\n      };\r\n    case CREATE_ROOM_FAILED:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n      };\r\n\r\n    case UPDATE_ROOM:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n      };\r\n    case UPDATE_ROOM_SUCCESS:\r\n      let tempUpdateRoom = {\r\n        role: state.currentRoom.role,\r\n        room: {\r\n          ...state.currentRoom.room,\r\n          name: action.payload.room.name,\r\n        },\r\n      };\r\n      let newSharedRoomU = null;\r\n      let newMyRoomU = null;\r\n      if (tempUpdateRoom.role === \"Owner\") {\r\n        newMyRoomU = [...state.myRoom];\r\n        newMyRoomU = newMyRoomU.map((it) => {\r\n          return it.room._id === tempUpdateRoom.room._id ? tempUpdateRoom : it;\r\n        });\r\n      } else {\r\n        newSharedRoomU = [...state.sharedRoom];\r\n        newSharedRoomU = newSharedRoomU.map((it) => {\r\n          return it.room._id === tempUpdateRoom.room._id ? tempUpdateRoom : it;\r\n        });\r\n      }\r\n      setRoomCookieDefault(tempUpdateRoom);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        currentRoomInfo: action.payload.room,\r\n        currentRoom: tempUpdateRoom,\r\n        myRoom: newMyRoomU ? newMyRoomU : state.myRoom,\r\n        sharedRoom: newSharedRoomU ? newSharedRoomU : state.sharedRoom,\r\n      };\r\n    case UPDATE_ROOM_FAILED:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n      };\r\n\r\n    case DELETE_ROOM:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null,\r\n      };\r\n    case DELETE_ROOM_SUCCESS:\r\n      let tempShareRoom = [...state.sharedRoom].filter(\r\n        (r) => r.room._id !== action.payload.room_id\r\n      );\r\n      let tempMyRoom = [...state.myRoom].filter(\r\n        (r) => r.room._id !== action.payload.room_id\r\n      );\r\n      let tempCurrent = tempMyRoom[0]\r\n        ? tempMyRoom[0]\r\n        : tempShareRoom[0]\r\n        ? tempShareRoom[0]\r\n        : {\r\n            role: \"Viewer\",\r\n            room: {\r\n              _id: undefined,\r\n              name: \"Chưa có kho lạnh nào\",\r\n            },\r\n          };\r\n      setRoomCookieDefault(null);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        sharedRoom: tempShareRoom,\r\n        myRoom: tempMyRoom,\r\n        currentRoom: tempCurrent,\r\n        error: null,\r\n      };\r\n    case DELETE_ROOM_FAILED:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload.error,\r\n      };\r\n\r\n    default:\r\n      return { ...state };\r\n  }\r\n};\r\nexport default RoomList;\r\n"]},"metadata":{},"sourceType":"module"}