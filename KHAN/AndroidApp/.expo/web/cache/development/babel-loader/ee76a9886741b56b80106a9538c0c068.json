{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { element, func, oneOfType } from 'prop-types';\nimport * as React from 'react';\nimport isHoverEnabled from \"./isHoverEnabled\";\n\nvar Hoverable = function (_React$Component) {\n  _inherits(Hoverable, _React$Component);\n\n  var _super = _createSuper(Hoverable);\n\n  function Hoverable() {\n    var _this;\n\n    _classCallCheck(this, Hoverable);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      isHovered: false,\n      showHover: true\n    };\n\n    _this._handleMouseEnter = function (e) {\n      if (isHoverEnabled() && !_this.state.isHovered) {\n        var onHoverIn = _this.props.onHoverIn;\n        if (onHoverIn) onHoverIn();\n\n        _this.setState(function (state) {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            isHovered: true\n          });\n        });\n      }\n    };\n\n    _this._handleMouseLeave = function (e) {\n      if (_this.state.isHovered) {\n        var onHoverOut = _this.props.onHoverOut;\n        if (onHoverOut) onHoverOut();\n\n        _this.setState(function (state) {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            isHovered: false\n          });\n        });\n      }\n    };\n\n    _this._handleGrant = function () {\n      _this.setState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          showHover: false\n        });\n      });\n    };\n\n    _this._handleRelease = function () {\n      _this.setState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          showHover: true\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Hoverable, [{\n    key: \"render\",\n    value: function render() {\n      var children = this.props.children;\n      var child = typeof children === 'function' ? children(this.state.showHover && this.state.isHovered) : children;\n      return React.cloneElement(React.Children.only(child), {\n        onMouseEnter: this._handleMouseEnter,\n        onMouseLeave: this._handleMouseLeave,\n        onResponderGrant: this._handleGrant,\n        onResponderRelease: this._handleRelease,\n        onPressIn: this._handleGrant,\n        onPressOut: this._handleRelease\n      });\n    }\n  }]);\n\n  return Hoverable;\n}(React.Component);\n\nexport { Hoverable as default };\nHoverable.displayName = 'Hoverable';\nHoverable.propTypes = {\n  children: oneOfType([func, element]),\n  onHoverIn: func,\n  onHoverOut: func\n};","map":{"version":3,"sources":["../src/Hoverable.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA,SAAS,OAAT,EAAkB,IAAlB,EAAwB,SAAxB,QAAyC,YAAzC;AACA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AAEA,OAAO,cAAP;;IAEqB,S;;;;;AAArB,uBAAA;AAAA;;AAAA;;;AAQE,UAAA,KAAA,GAAQ;AAAE,MAAA,SAAS,EAAE,KAAb;AAAoB,MAAA,SAAS,EAAE;AAA/B,KAAR;;AAEA,UAAA,iBAAA,GAAoB,UAAA,CAAC,EAAG;AACtB,UAAI,cAAc,MAAM,CAAC,MAAK,KAAL,CAAW,SAApC,EAA+C;AAAA,YACrC,SADqC,GACvB,MAAK,KADkB,CACrC,SADqC;AAE7C,YAAI,SAAJ,EAAe,SAAS;;AACxB,cAAK,QAAL,CAAc,UAAA,KAAK;AAAA,iDAAU,KAAV;AAAiB,YAAA,SAAS,EAAE;AAA5B;AAAA,SAAnB;AACD;AACF,KAND;;AAQA,UAAA,iBAAA,GAAoB,UAAA,CAAC,EAAG;AACtB,UAAI,MAAK,KAAL,CAAW,SAAf,EAA0B;AAAA,YAChB,UADgB,GACD,MAAK,KADJ,CAChB,UADgB;AAExB,YAAI,UAAJ,EAAgB,UAAU;;AAC1B,cAAK,QAAL,CAAc,UAAA,KAAK;AAAA,iDAAU,KAAV;AAAiB,YAAA,SAAS,EAAE;AAA5B;AAAA,SAAnB;AACD;AACF,KAND;;AAQA,UAAA,YAAA,GAAe,YAAK;AAClB,YAAK,QAAL,CAAc,UAAA,KAAK;AAAA,+CAAU,KAAV;AAAiB,UAAA,SAAS,EAAE;AAA5B;AAAA,OAAnB;AACD,KAFD;;AAIA,UAAA,cAAA,GAAiB,YAAK;AACpB,YAAK,QAAL,CAAc,UAAA,KAAK;AAAA,+CAAU,KAAV;AAAiB,UAAA,SAAS,EAAE;AAA5B;AAAA,OAAnB;AACD,KAFD;;AA9BF;AAoDC;;;;6BAlBO;AAAA,UACI,QADJ,GACiB,KAAK,KADtB,CACI,QADJ;AAEJ,UAAM,KAAK,GACT,OAAO,QAAP,KAAoB,UAApB,GACI,QAAQ,CAAC,KAAK,KAAL,CAAW,SAAX,IAAwB,KAAK,KAAL,CAAW,SAApC,CADZ,GAEI,QAHN;AAKA,aAAO,KAAK,CAAC,YAAN,CAAmB,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,KAApB,CAAnB,EAA+C;AACpD,QAAA,YAAY,EAAE,KAAK,iBADiC;AAEpD,QAAA,YAAY,EAAE,KAAK,iBAFiC;AAIpD,QAAA,gBAAgB,EAAE,KAAK,YAJ6B;AAKpD,QAAA,kBAAkB,EAAE,KAAK,cAL2B;AAOpD,QAAA,SAAS,EAAE,KAAK,YAPoC;AAQpD,QAAA,UAAU,EAAE,KAAK;AARmC,OAA/C,CAAP;AAUD;;;;EAnDoC,KAAK,CAAC,S;;SAAxB,S;AACZ,SAAA,CAAA,WAAA,GAAc,WAAd;AACA,SAAA,CAAA,SAAA,GAAY;AACjB,EAAA,QAAQ,EAAE,SAAS,CAAC,CAAC,IAAD,EAAO,OAAP,CAAD,CADF;AAEjB,EAAA,SAAS,EAAE,IAFM;AAGjB,EAAA,UAAU,EAAE;AAHK,CAAZ","sourcesContent":["// By @necolas:\n// https://github.com/necolas/react-native-web/blob/master/docs/guides/web-recipes.md\nimport { element, func, oneOfType } from 'prop-types';\nimport * as React from 'react';\n\nimport isHoverEnabled from './isHoverEnabled';\n\nexport default class Hoverable extends React.Component<{ children: (isHovered: boolean) => any | React.ReactChild; onHoverIn?: Function; onHoverOut?: Function }, { isHovered: boolean; showHover: boolean; }> {\n  static displayName = 'Hoverable';\n  static propTypes = {\n    children: oneOfType([func, element]),\n    onHoverIn: func,\n    onHoverOut: func,\n  };\n\n  state = { isHovered: false, showHover: true };\n\n  _handleMouseEnter = e => {\n    if (isHoverEnabled() && !this.state.isHovered) {\n      const { onHoverIn } = this.props;\n      if (onHoverIn) onHoverIn();\n      this.setState(state => ({ ...state, isHovered: true }));\n    }\n  };\n\n  _handleMouseLeave = e => {\n    if (this.state.isHovered) {\n      const { onHoverOut } = this.props;\n      if (onHoverOut) onHoverOut();\n      this.setState(state => ({ ...state, isHovered: false }));\n    }\n  };\n\n  _handleGrant = () => {\n    this.setState(state => ({ ...state, showHover: false }));\n  };\n\n  _handleRelease = () => {\n    this.setState(state => ({ ...state, showHover: true }));\n  };\n\n  render() {\n    const { children } = this.props;\n    const child =\n      typeof children === 'function'\n        ? children(this.state.showHover && this.state.isHovered)\n        : children;\n\n    return React.cloneElement(React.Children.only(child), {\n      onMouseEnter: this._handleMouseEnter,\n      onMouseLeave: this._handleMouseLeave,\n      // prevent hover showing while responder\n      onResponderGrant: this._handleGrant,\n      onResponderRelease: this._handleRelease,\n      // if child is Touchable\n      onPressIn: this._handleGrant,\n      onPressOut: this._handleRelease,\n    });\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}