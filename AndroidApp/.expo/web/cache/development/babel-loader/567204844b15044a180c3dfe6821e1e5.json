{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\GIT HUB\\\\NCKH2020\\\\KHAN\\\\AndroidApp\\\\src\\\\screens\\\\auth\\\\signUp.component.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Button, CheckBox, Icon, Input, Layout, Spinner, TopNavigation, TopNavigationAction } from \"@ui-kitten/components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { registerUser } from \"../../redux/auth/actions\";\nimport MyAlert from \"../../components/alert.component\";\nimport { ScrollView } from \"react-native-gesture-handler\";\n\nvar SignUp = function SignUp(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      username = _React$useState2[0],\n      setUsername = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      email = _React$useState4[0],\n      setEmail = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      password = _React$useState6[0],\n      setPassword = _React$useState6[1];\n\n  var _React$useState7 = React.useState(true),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      secureTextEntry = _React$useState8[0],\n      setSecureTextEntry = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      accept = _React$useState10[0],\n      setAccept = _React$useState10[1];\n\n  var state = useSelector(function (state) {\n    return state.Auth;\n  });\n  var dispatch = useDispatch();\n\n  var _React$useState11 = React.useState({\n    usernameColor: \"basic\",\n    passwordColor: \"basic\",\n    emailColor: \"basic\",\n    checkboxColor: \"basic\"\n  }),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      check = _React$useState12[0],\n      setCheck = _React$useState12[1];\n\n  var _React$useState13 = React.useState(false),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      visibles = _React$useState14[0],\n      setVisibles = _React$useState14[1];\n\n  var _React$useState15 = React.useState(false),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      visible2 = _React$useState16[0],\n      setVisible2 = _React$useState16[1];\n\n  var _React$useState17 = React.useState(false),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      firstRender = _React$useState18[0],\n      setFirstRender = _React$useState18[1];\n\n  var submitSignUp = function submitSignUp() {\n    setCheck({\n      usernameColor: username === \"\" ? \"danger\" : \"basic\",\n      passwordColor: password === \"\" ? \"danger\" : \"basic\",\n      emailColor: email === \"\" ? \"danger\" : \"basic\",\n      checkboxColor: !accept ? \"danger\" : \"basic\"\n    });\n\n    if (username != \"\" && password != \"\" && email != \"\" && accept) {\n      setFirstRender(true);\n      dispatch(registerUser(username, email, password));\n    }\n  };\n\n  React.useEffect(function () {\n    if (state.register_success && !state.loading && firstRender) {\n      setFirstRender(true);\n      setVisible2(true);\n    }\n\n    if (firstRender && state.errorRegister && !state.loading) {\n      setFirstRender(true);\n      setVisibles(true);\n    }\n  }, [state.loading, state.errorRegister]);\n\n  var LoadingIndicator = function LoadingIndicator(props) {\n    if (props.isLoading) return React.createElement(View, {\n      style: [props.style, styles.indicator],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, React.createElement(Spinner, {\n      size: \"small\",\n      status: \"basic\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }));\n    return React.createElement(React.Fragment, null);\n  };\n\n  var renderIcon = function renderIcon(props) {\n    return React.createElement(TouchableWithoutFeedback, {\n      onPress: toggleSecureEntry,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }\n    }, React.createElement(Icon, _extends({}, props, {\n      name: secureTextEntry ? \"eye-off\" : \"eye\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    })));\n  };\n\n  var BackIcon = function BackIcon(props) {\n    return React.createElement(Icon, _extends({}, props, {\n      name: \"arrow-back\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 31\n      }\n    }));\n  };\n\n  var navigateBack = function navigateBack() {\n    navigation.goBack();\n  };\n\n  var BackAction = function BackAction() {\n    return React.createElement(TopNavigationAction, {\n      icon: BackIcon,\n      onPress: navigateBack,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 5\n      }\n    });\n  };\n\n  var toggleSecureEntry = function toggleSecureEntry() {\n    setSecureTextEntry(!secureTextEntry);\n  };\n\n  return React.createElement(Layout, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, React.createElement(MyAlert, {\n    status: \"danger\",\n    title: \"L\\u1ED7i\",\n    text: state.errorRegister,\n    visible: visibles,\n    setVisible: function setVisible(value) {\n      return setVisibles(value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }), React.createElement(MyAlert, {\n    status: \"success\",\n    title: \"Th\\xE0nh c\\xF4ng\",\n    text: \"\\u0110\\u0103ng k\\xED th\\xE0nh c\\xF4ng\",\n    visible: visible2,\n    setVisible: function setVisible(value) {\n      navigateBack();\n      setVisible2(value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }), React.createElement(TopNavigation, {\n    accessoryLeft: BackAction,\n    title: \"\\u0110\\u0103ng nh\\u1EADp\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }), React.createElement(ScrollView, {\n    showsHorizontalScrollIndicator: false,\n    contentContainerStyle: styles.scrollView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.inputView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, React.createElement(Input, {\n    status: check.usernameColor,\n    size: \"large\",\n    selectionColor: \"#3C4ED5\",\n    placeholder: \"Nh\\u1EADp t\\xEAn \\u0111\\u0103ng nh\\u1EADp\",\n    value: username,\n    onChangeText: function onChangeText(nextValue) {\n      return setUsername(nextValue);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: styles.inputView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, React.createElement(Input, {\n    type: \"email\",\n    status: check.emailColor,\n    size: \"large\",\n    selectionColor: \"#3C4ED5\",\n    placeholder: \"Nh\\u1EADp email\",\n    value: email,\n    onChangeText: function onChangeText(nextValue) {\n      return setEmail(nextValue);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: styles.inputView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, React.createElement(Input, {\n    size: \"large\",\n    status: check.passwordColor,\n    value: password,\n    selectionColor: \"#3C4ED5\",\n    placeholder: \"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\",\n    accessoryRight: renderIcon,\n    secureTextEntry: secureTextEntry,\n    onChangeText: function onChangeText(nextValue) {\n      return setPassword(nextValue);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: styles.inputView,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, React.createElement(CheckBox, {\n    status: check.checkboxColor,\n    checked: accept,\n    onChange: function onChange(nextChecked) {\n      return setAccept(nextChecked);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, \"T\\xF4i \\u0111\\u1ED3ng \\xFD v\\u1EDBi th\\u1ECFa thu\\u1EADn s\\u1EED d\\u1EE5ng\")), React.createElement(View, {\n    style: _objectSpread(_objectSpread({}, styles.inputView), {}, {\n      marginBottom: 10\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    onPress: submitSignUp,\n    size: \"large\",\n    status: \"primary\",\n    accessoryLeft: function accessoryLeft() {\n      return React.createElement(LoadingIndicator, {\n        isLoading: state.loading,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 34\n        }\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, \"\\u0110\\u0102NG K\\xCD\"))));\n};\n\nexport default SignUp;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  scrollView: {\n    marginTop: 30,\n    width: \"100%\",\n    alignItems: \"center\"\n  },\n  inputView: {\n    marginBottom: 30,\n    width: \"85%\"\n  },\n  indicator: {\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"sources":["D:/GIT HUB/NCKH2020/KHAN/AndroidApp/src/screens/auth/signUp.component.js"],"names":["React","Button","CheckBox","Icon","Input","Layout","Spinner","TopNavigation","TopNavigationAction","useSelector","useDispatch","registerUser","MyAlert","ScrollView","SignUp","navigation","useState","username","setUsername","email","setEmail","password","setPassword","secureTextEntry","setSecureTextEntry","accept","setAccept","state","Auth","dispatch","usernameColor","passwordColor","emailColor","checkboxColor","check","setCheck","visibles","setVisibles","visible2","setVisible2","firstRender","setFirstRender","submitSignUp","useEffect","register_success","loading","errorRegister","LoadingIndicator","props","isLoading","style","styles","indicator","renderIcon","toggleSecureEntry","BackIcon","navigateBack","goBack","BackAction","container","value","scrollView","inputView","nextValue","nextChecked","marginBottom","StyleSheet","create","flex","marginTop","width","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { StyleSheet, TouchableWithoutFeedback, View } from \"react-native\";\r\nimport {\r\n  Button,\r\n  CheckBox,\r\n  Icon,\r\n  Input,\r\n  Layout,\r\n  Spinner,\r\n  TopNavigation,\r\n  TopNavigationAction,\r\n} from \"@ui-kitten/components\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { registerUser } from \"../../redux/auth/actions\";\r\nimport MyAlert from \"../../components/alert.component\";\r\nimport { ScrollView } from \"react-native-gesture-handler\";\r\n\r\nconst SignUp = ({ navigation }) => {\r\n  const [username, setUsername] = React.useState(\"\");\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const [secureTextEntry, setSecureTextEntry] = React.useState(true);\r\n  const [accept, setAccept] = React.useState(false);\r\n  const state = useSelector((state) => state.Auth);\r\n  const dispatch = useDispatch();\r\n  const [check, setCheck] = React.useState({\r\n    usernameColor: \"basic\",\r\n    passwordColor: \"basic\",\r\n    emailColor: \"basic\",\r\n    checkboxColor: \"basic\",\r\n  });\r\n  const [visibles, setVisibles] = React.useState(false);\r\n  const [visible2, setVisible2] = React.useState(false);\r\n  const [firstRender, setFirstRender] = React.useState(false);\r\n\r\n  const submitSignUp = () => {\r\n    setCheck({\r\n      usernameColor: username === \"\" ? \"danger\" : \"basic\",\r\n      passwordColor: password === \"\" ? \"danger\" : \"basic\",\r\n      emailColor: email === \"\" ? \"danger\" : \"basic\",\r\n      checkboxColor: !accept ? \"danger\" : \"basic\",\r\n    });\r\n    if (username != \"\" && password != \"\" && email != \"\" && accept) {\r\n      setFirstRender(true);\r\n      dispatch(registerUser(username, email, password));\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (state.register_success && !state.loading && firstRender) {\r\n      setFirstRender(true);\r\n      setVisible2(true);\r\n    }\r\n    if (firstRender && state.errorRegister && !state.loading) {\r\n      setFirstRender(true);\r\n      setVisibles(true);\r\n    }\r\n  }, [state.loading, state.errorRegister]);\r\n\r\n  const LoadingIndicator = (props) => {\r\n    if (props.isLoading)\r\n      return (\r\n        <View style={[props.style, styles.indicator]}>\r\n          <Spinner size=\"small\" status=\"basic\" />\r\n        </View>\r\n      );\r\n    return <></>;\r\n  };\r\n\r\n  const renderIcon = (props) => (\r\n    <TouchableWithoutFeedback onPress={toggleSecureEntry}>\r\n      <Icon {...props} name={secureTextEntry ? \"eye-off\" : \"eye\"} />\r\n    </TouchableWithoutFeedback>\r\n  );\r\n  const BackIcon = (props) => <Icon {...props} name=\"arrow-back\" />;\r\n  const navigateBack = () => {\r\n    navigation.goBack();\r\n  };\r\n\r\n  const BackAction = () => (\r\n    <TopNavigationAction icon={BackIcon} onPress={navigateBack} />\r\n  );\r\n\r\n  const toggleSecureEntry = () => {\r\n    setSecureTextEntry(!secureTextEntry);\r\n  };\r\n\r\n  return (\r\n    <Layout style={styles.container}>\r\n      <MyAlert\r\n        status=\"danger\"\r\n        title=\"Lỗi\"\r\n        text={state.errorRegister}\r\n        visible={visibles}\r\n        setVisible={(value) => setVisibles(value)}\r\n      ></MyAlert>\r\n      <MyAlert\r\n        status=\"success\"\r\n        title=\"Thành công\"\r\n        text=\"Đăng kí thành công\"\r\n        visible={visible2}\r\n        setVisible={(value) => {\r\n          navigateBack();\r\n          setVisible2(value);\r\n        }}\r\n      ></MyAlert>\r\n      <TopNavigation accessoryLeft={BackAction} title=\"Đăng nhập\" />\r\n      <ScrollView\r\n        showsHorizontalScrollIndicator={false}\r\n        contentContainerStyle={styles.scrollView}\r\n      >\r\n        <View style={styles.inputView}>\r\n          <Input\r\n            status={check.usernameColor}\r\n            size=\"large\"\r\n            selectionColor=\"#3C4ED5\"\r\n            placeholder=\"Nhập tên đăng nhập\"\r\n            value={username}\r\n            onChangeText={(nextValue) => setUsername(nextValue)}\r\n          />\r\n        </View>\r\n        <View style={styles.inputView}>\r\n          <Input\r\n            type=\"email\"\r\n            status={check.emailColor}\r\n            size=\"large\"\r\n            selectionColor=\"#3C4ED5\"\r\n            placeholder=\"Nhập email\"\r\n            value={email}\r\n            onChangeText={(nextValue) => setEmail(nextValue)}\r\n          />\r\n        </View>\r\n        <View style={styles.inputView}>\r\n          <Input\r\n            size=\"large\"\r\n            status={check.passwordColor}\r\n            value={password}\r\n            selectionColor=\"#3C4ED5\"\r\n            placeholder=\"Nhập mật khẩu\"\r\n            accessoryRight={renderIcon}\r\n            secureTextEntry={secureTextEntry}\r\n            onChangeText={(nextValue) => setPassword(nextValue)}\r\n          />\r\n        </View>\r\n        <View style={styles.inputView}>\r\n          <CheckBox\r\n            status={check.checkboxColor}\r\n            checked={accept}\r\n            onChange={(nextChecked) => setAccept(nextChecked)}\r\n          >\r\n            Tôi đồng ý với thỏa thuận sử dụng\r\n          </CheckBox>\r\n        </View>\r\n        <View style={{ ...styles.inputView, marginBottom: 10 }}>\r\n          <Button\r\n            onPress={submitSignUp}\r\n            size=\"large\"\r\n            status=\"primary\"\r\n            accessoryLeft={() => <LoadingIndicator isLoading={state.loading} />}\r\n          >\r\n            ĐĂNG KÍ\r\n          </Button>\r\n        </View>\r\n      </ScrollView>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  scrollView: {\r\n    marginTop: 30,\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n  },\r\n  inputView: {\r\n    marginBottom: 30,\r\n    width: \"85%\",\r\n  },\r\n  indicator: {\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}