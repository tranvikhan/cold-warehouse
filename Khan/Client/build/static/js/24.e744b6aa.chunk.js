(this["webpackJsonpshreyu-react"]=this["webpackJsonpshreyu-react"]||[]).push([[24],{154:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var i=a(108),n=a(205),r=a(0),s=a.n(r),c=a(107),l=a(257),o=a(258),m=a(184),d=a(256),u=(a(200),(0,n.a.createSliderWithTooltip)(n.a));function h(e){var t=e.min?e.min:0,a=e.max?e.max:10,n=Object(r.useState)(t),h=Object(i.a)(n,2),x=h[0],b=h[1],p=Object(r.useState)({value:"x",label:"Axis X"}),f=Object(i.a)(p,2),z=f[0],g=f[1],v=t=>{e.onChangeValue&&e.onChangeValue(t),b(t)};return Object(r.useEffect)((()=>{e.onChangeAxis&&e.onChangeAxis(z.value)}),[z]),s.a.createElement("div",{className:"mt-5 row"},s.a.createElement(c.a,{className:"react-select bg-white col-6",classNamePrefix:"react-select",value:z,options:[{value:"x",label:"Axis X"},{value:"y",label:"Axis Y"},{value:"z",label:"Axis Z"}],onChange:e=>{g(e)}}),s.a.createElement(l.a,{className:"col-6 mb-3"},s.a.createElement(o.a,{addonType:"prepend"},s.a.createElement(m.a,null,"L\u1edbp hi\u1ec7n t\u1ea1i ")),s.a.createElement(d.a,{type:"number",value:x,onChange:e=>{var i=e.target.value;v(i>=t&&i<=a?i:i<t?a:t)}})),s.a.createElement("div",{className:"col-12"},s.a.createElement(u,{min:t,max:a,value:x,onChange:e=>{v(e)}})))}},481:function(e,t,a){},540:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(140),s=a(141),c=a(143),l=a(144),o=a(107),m=a(178),d=a(179),u=a(180),h=a(260),x=a(262),b=a(67),p=a.n(b),f=a(121),z=a.n(f),g=()=>{var e={chart:{height:380,type:"area",stacked:!0,events:{selection:function(e,t){console.log(new Date(t.xaxis.min))}}},colors:["#5369f8","#43d39e","#f77e53","#1ce1ac","#25c2e3","#ffbe0b"],dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},fill:{gradient:{enabled:!0,opacityFrom:.6,opacityTo:.8}},legend:{position:"bottom",horizontalAlign:"center",itemMargin:{horizontal:12,vertical:5}},xaxis:{type:"datetime"},yaxis:{labels:{show:!0,formatter:e=>"-"+e+"\xb0"}},grid:{row:{colors:["transparent","transparent"],opacity:.2},borderColor:"#f1f3fa"},responsive:[{breakpoint:600,options:{chart:{toolbar:{show:!1}}}}]},t=(e,t,a)=>{for(var i=0,n=[];i<t;){var r=e,s=Math.floor(Math.random()*(a.max-a.min+1))+a.min;n.push([r,s]),e+=864e5,i++}return n},a=[{name:"KV C\xe1 Ng\u1eeb",data:t(new Date("11 Feb 2017").getTime(),50,{min:0,max:40})},{name:"KV C\xe1 Tra",data:t(new Date("11 Feb 2017").getTime(),50,{min:0,max:20})},{name:"KV T\xf4m",data:t(new Date("11 Feb 2017").getTime(),50,{min:0,max:35})}];return n.a.createElement(z.a,{options:e,series:a,type:"area",className:"apex-charts",height:450})},v=a(108),y=(a(481),a(5)),w=a(278),E=a(482),F=a.n(E);var C=class{constructor(e){this.config=null,this.data=null,this.slice=null,this.limit=null,this.scene=null,this.camera=null,this.renderer=null,this.cubeFrame=null,this.axesHelper=null,this.container=e}setConfig(e){this.config=e}reCalculationLimit(e){this.slice=e;var t=this.slice.origin,a=this.slice.destination;!t&&(t={x:0,y:0,z:0});var i=this.config.size,n=i.x,r=i.y,s=i.z;!a&&(a={x:n,y:r,z:s});var c=(e,t)=>e>t?e:t,l=(e,t)=>e<t?e:t;this.limit={ix:n,iy:r,iz:s,idx:Math.abs(t.x-a.x),idy:Math.abs(t.y-a.y),idz:Math.abs(t.z-a.z),ix0:l(t.x,a.x),iy0:l(t.y,a.y),iz0:l(t.z,a.z),ix1:c(t.x,a.x)-1,iy1:c(t.y,a.y)-1,iz1:c(t.z,a.z)-1}}updateFaceAB(e){for(var t=0,a=this.limit,i=a.ix0,n=a.ix1,r=a.iz0,s=a.iz1,c=e?0:1,l=a["iy"+(e?"0":"1")],o=r;o<=s;o++)for(var m=i;m<=n;m++)this.setTileColor(c,t,this.data.values[m][l][o]),t++;this.cubeFrame.children[c].geometry.colorsNeedUpdate=!0}updateFaceCD(e){for(var t=0,a=this.limit,i=a.iy0,n=a.iy1,r=a.iz0,s=a.iz1,c=e?2:3,l=a["ix"+(e?"0":"1")],o=r;o<=s;o++)for(var m=i;m<=n;m++)this.setTileColor(c,t,this.data.values[l][m][o]),t++;this.cubeFrame.children[c].geometry.colorsNeedUpdate=!0}updateFaceEF(e){for(var t=0,a=this.limit,i=a.ix0,n=a.ix1,r=a.iy0,s=a.iy1,c=e?4:5,l=a["iz"+(e?"0":"1")],o=r;o<=s;o++)for(var m=i;m<=n;m++)this.setTileColor(c,t,this.data.values[m][o][l]),t++;this.cubeFrame.children[c].geometry.colorsNeedUpdate=!0}setTileColor(e,t,a){var i=this.data.min,n=(240-240*(a-i)/(this.data.max-i))/360,r=this.cubeFrame.children[e].geometry.faces;r[2*t].color.setHSL(n,1,.5),r[2*t+1].color.setHSL(n,1,.5)}initWorld(){var e=new w.Scene;e.background=new w.Color(15663086);var t=new w.PerspectiveCamera(60,this.container.clientWidth/this.container.clientHeight,1,3e3);t.up.set(0,0,1),t.position.set(350,350,350);var a=new w.WebGLRenderer;a.setSize(this.container.clientWidth,this.container.clientHeight);var i=new F.a(t,a.domElement);i.enableDamping=!0,i.dampingFactor=.05,i.screenSpacePanning=!1,i.minDistance=100,i.maxDistance=900,i.maxPolarAngle=Math.PI,i.rotateSpeed=.5;var n=this.config.size,r=new w.AxesHelper(n.tilesize*(1.7*Math.max(n.x,n.y,n.z)));e.add(r);!function n(){requestAnimationFrame(n),i.update(),a.render(e,t)}(),this.scene=e,this.camera=t,this.controls=i,this.renderer=a,this.axesHelper=r,this.container.appendChild(a.domElement)}makeDoor(){var e=this.config.door;if(e.show&&this.scene){var t=this.config.size,a={x:t.x*t.tilesize,y:t.y*t.tilesize,z:t.z*t.tilesize,e:20*t.tilesize},i={A:{x0:a.x/2,y0:-a.e,z0:a.z/2,x1:a.x/2,y1:a.y,z1:a.z/2},B:{x0:a.x/2,y0:a.y+a.e,z0:a.z/2,x1:a.x/2,y1:a.y,z1:a.z/2},C:{x0:-a.e,y0:a.y/2,z0:a.z/2,x1:a.x,y1:a.y/2,z1:a.z/2},D:{x0:a.x+a.e,y0:a.y/2,z0:a.z/2,x1:a.x,y1:a.y/2,z1:a.z/2}}[e.direction],n=new w.Vector3(i.x1-i.x0,i.y1-i.y0,i.z1-i.z0),r=new w.Vector3(i.x0,i.y0,i.z0),s=8*t.tilesize,c=2*t.tilesize,l=1*t.tilesize,o=new w.ArrowHelper(n.normalize(),r,s,0,c,l);o.up.set(0,0,1),this.scene.add(o)}}makeWireFrame(){var e=new w.LineBasicMaterial({color:0,linewidth:2}),t=this.config.size,a=t.x*t.tilesize,i=t.y*t.tilesize,n=t.z*t.tilesize,r=[];r.push(new w.Vector3(0,0,0)),r.push(new w.Vector3(a,0,0)),r.push(new w.Vector3(a,i,0)),r.push(new w.Vector3(0,i,0)),r.push(new w.Vector3(0,0,0)),r.push(new w.Vector3(0,0,n)),r.push(new w.Vector3(a,0,n)),r.push(new w.Vector3(a,i,n)),r.push(new w.Vector3(0,i,n)),r.push(new w.Vector3(0,0,n));var s=(new w.BufferGeometry).setFromPoints(r);(r=[]).push(new w.Vector3(a,0,0)),r.push(new w.Vector3(a,0,n)),r.push(new w.Vector3(a,i,n)),r.push(new w.Vector3(a,i,0)),r.push(new w.Vector3(0,i,0)),r.push(new w.Vector3(0,i,n));var c=(new w.BufferGeometry).setFromPoints(r),l=new w.Line(s,e);this.scene.add(l);var o=new w.Line(c,e);this.scene.add(o),this.controls.target.set(a/2,i/2,n/2)}writeNumber(){var e=this,t=this.config.size.tilesize,a=(a,i,n,r)=>{var s=function(e){var a=document.createElement("canvas"),i=a.getContext("2d");a.width=a.height=2*t,i.font="Bold "+2*t+"px Roboto",i.fillStyle="#7F007F",i.textAlign="center",i.fillText(e,t,1.74591293182*t);var n=new w.Texture(a);n.needsUpdate=!0;var r=new w.SpriteMaterial({map:n}),s=new w.Sprite(r);return s.scale.set(a.width,a.width,a.width),s}(String(a));s.position.set((i-.5)*t,(n-.5)*t,(r-.5)*t),e.scene.add(s)},i=this.config["axis-labels"];i["axis-x"].show&&i["axis-x"].list.forEach((e=>a(e,e,0,0))),i["axis-y"].show&&i["axis-y"].list.forEach((e=>a(e,0,e,0))),i["axis-z"].show&&i["axis-z"].list.forEach((e=>a(e,0,0,e)))}makeFrame(){var e=Object(y.a)(Object(y.a)({},this.limit),this.config.size);e=Object(y.a)(Object(y.a)({},e),{},{sx:e.idx*e.tilesize,sy:e.idy*e.tilesize,sz:e.idz*e.tilesize}),e=Object(y.a)(Object(y.a)({},e),{},{hsx:e.sx/2,hsy:e.sy/2,hsz:e.sz/2});var t=[new w.Vector3(3*Math.PI/2,0,0),new w.Vector3(3*Math.PI/2,3*Math.PI/2,0),new w.Vector3(Math.PI,0,0)],a=this.limit.ix0*e.tilesize,i=this.limit.iy0*e.tilesize,n=this.limit.iz0*e.tilesize,r=[new w.Vector3(e.hsx+a,0+i,e.hsz+n),new w.Vector3(e.hsx+a,e.sy+i,e.hsz+n),new w.Vector3(0+a,e.hsy+i,e.hsz+n),new w.Vector3(e.sx+a,e.hsy+i,e.hsz+n),new w.Vector3(e.hsx+a,e.hsy+i,0+n),new w.Vector3(e.hsx+a,e.hsy+i,e.sz+n)],s=function(t,a,i,n){var r=t[0],s=t[1],c=new w.PlaneGeometry(e["s"+r],e["s"+s],e["id"+r],e["id"+s]),l=new w.MeshBasicMaterial({vertexColors:w.FaceColors,side:n}),o=new w.Mesh(c,l);return o.position.copy(i),o.rotation.setFromVector3(a),o},c=new w.Object3D;return c.add(s("xzy",t[0],r[0],w.BackSide)),c.add(s("xzy",t[0],r[1],w.FrontSide)),c.add(s("yzx",t[1],r[2],w.FrontSide)),c.add(s("yzx",t[1],r[3],w.BackSide)),c.add(s("xyz",t[2],r[4],w.FrontSide)),c.add(s("xyz",t[2],r[5],w.BackSide)),this.scene.remove(this.cubeFrame),this.cubeFrame=c,this.scene.add(c),c}updateChart(e){this.data=e,console.log("updateChart"),this.updateFaceAB(!0),this.updateFaceAB(!1),this.updateFaceCD(!0),this.updateFaceCD(!1),this.updateFaceEF(!0),this.updateFaceEF(!1)}},j=e=>{var t=Object(i.useRef)(),a=Object(i.useRef)();return Object(i.useEffect)((()=>{a.current=new C(t.current)}),[]),Object(i.useEffect)((()=>{a.current.setConfig(e.config),a.current.initWorld(),a.current.makeDoor(),a.current.makeWireFrame(),a.current.writeNumber()}),[e.config]),Object(i.useEffect)((()=>{a.current.reCalculationLimit(e.slice),a.current.makeFrame(),null!=e.data&&a.current.updateChart(e.data)}),[e.slice]),Object(i.useEffect)((()=>{null!=e.data&&a.current.updateChart(e.data)}),[e.data]),n.a.createElement("div",{className:"chartContainer",ref:e=>{t.current=e}})},O=e=>{var t=Object(i.useState)(240),a=Object(v.a)(t,2),r=a[0],s=a[1],c=Object(i.useRef)(),l=Object(i.useRef)(),o=Object(i.useRef)(),m=Object(i.useRef)(),d=Object(i.useRef)(240);return Object(i.useEffect)((()=>{c.current=document.getElementById("hueBar"),(t=>{var a=document.createElement("table");a.setAttribute("width",e.width),a.setAttribute("height",e.height),a.setAttribute("style","border-spacing: 0;"),t.appendChild(a);var i=document.createElement("tr");a.appendChild(i);for(var n=function(e){var t=document.createElement("td");t.setAttribute("id","td_"+e),t.setAttribute("width","auto"),t.setAttribute("height","100%"),t.setAttribute("style","padding: 0; background-color: hsl("+e+",100%,50%);"),t.onclick=()=>{document.getElementById("td_"+d.current).setAttribute("style","padding: 0; background-color: hsl("+d.current+",100%,50%);"),s(e),t.setAttribute("style","padding: 0; background-color: #000"),d.current=e},i.appendChild(t)},r=240;r>=0;r--)n(r)})(c.current),l.current=document.createElement("div"),l.current.innerText=e.min,l.current.setAttribute("style","float: left;"),c.current.appendChild(l.current),o.current=document.createElement("div"),o.current.innerText=e.max,o.current.setAttribute("style","float: right;"),c.current.appendChild(o.current),m.current=document.createElement("div"),m.current.setAttribute("style","margin: auto; width: 5em; "),c.current.appendChild(m.current)}),[]),Object(i.useEffect)((()=>{l.current.innerText=e.min,o.current.innerText=e.max}),[e.min,e.max]),Object(i.useEffect)((()=>{var t;m.current.innerHTML=(t=r,(e.max-t/240*(e.max-e.min)).toFixed(2))}),[r]),n.a.createElement("div",{id:"hueBar"})},V=a(483),A=a.n(V),S=a(154),T=a(33),k={size:{x:53,y:22,z:25,tilesize:5},door:{show:!0,direction:"C"},"axis-labels":{"axis-x":{show:!0,list:[0,13,26,53]},"axis-y":{show:!0,list:[22,10]},"axis-z":{show:!0,list:[23,12,18]}}};function N(){var e=Object(i.useState)(null),t=Object(v.a)(e,2),a=t[0],r=t[1],s=Object(i.useState)("x"),c=Object(v.a)(s,2),l=c[0],o=c[1],m=Object(i.useState)({origin:null,destination:null}),d=Object(v.a)(m,2),u=d[0],h=d[1],x=Object(i.useState)({min:0,max:0}),b=Object(v.a)(x,2),p=b[0],f=b[1];return Object(i.useEffect)((()=>{A.a.get(T.a+"api/sensor/demoTemperature").then((e=>e.data)).then((e=>{r(e)})).catch((e=>console.log(e)))}),[]),Object(i.useEffect)((()=>{null!=a&&f({min:a.min,max:a.max})}),[a]),n.a.createElement(n.a.Fragment,null,n.a.createElement(j,{config:k,data:a,slice:u}),n.a.createElement("div",{className:"p-x-4"},n.a.createElement(O,{min:p.min,max:p.max,width:"100%",height:10})),n.a.createElement(S.a,{max:0,max:k.size[l]-1,onChangeValue:e=>{var t={x:k.size.x,y:k.size.y,z:k.size.z};t[l]=k.size[l]-e,h({origin:null,destination:t})},onChangeAxis:e=>{console.log(e),o(e)}}))}var M=()=>{var e={plotOptions:{heatmap:{shadeIntensity:.5,radius:0,useFillColorAsStroke:!1,colorScale:{ranges:[{from:-30,to:-25,name:"low",color:"#00A100"},{from:-26,to:-20,name:"medium",color:"hsl(144, 100%, 50%)"},{from:-20,to:-15,name:"high",color:"#FFB200"},{from:-15,to:0,name:"extreme",color:"#FF0000"}]}}},dataLabels:{enabled:!1},stroke:{width:1},chart:{events:{dataPointSelection:(e,a,i)=>{t(i)}},toolbar:{show:!1}},tooltip:{custom:function({series:e,seriesIndex:t,dataPointIndex:a,w:i}){return'<div ><span class="badge badge-light shadow p-3 border-dark">'+e[t][a]+" \xb0C</span></div>"}}},t=function(e){alert("x= "+e.dataPointIndex+" y= "+e.seriesIndex)},a=(e,t)=>{for(var a=0,i=[];a<e;){var n=a,r=Math.floor(Math.random()*(t.max-t.min+1))+t.min;i.push([n,r]),a++}return i},i=[{name:"0",data:a(20,{min:-30,max:0})},{name:"1",data:a(20,{min:-30,max:0})},{name:"2",data:a(20,{min:-30,max:0})},{name:"3",data:a(20,{min:-30,max:0})},{name:"4",data:a(20,{min:-30,max:0})},{name:"5",data:a(20,{min:-30,max:0})},{name:"6",data:a(20,{min:-30,max:0})},{name:"7",data:a(20,{min:-30,max:0})},{name:"8",data:a(20,{min:-30,max:0})}];return n.a.createElement(n.a.Fragment,null,n.a.createElement(z.a,{options:e,series:i,type:"heatmap",className:"heatmap-charts",height:450}),n.a.createElement(S.a,{max:10,min:0}))};class B extends i.Component{constructor(e){super(e),this.toggle=e=>{this.state.activeTab!==e&&this.setState({activeTab:e})},this.state={activeTab:"3"},this.toggle=this.toggle.bind(this)}render(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{className:"nav nav-pills navtab-bg nav-justified"},[{id:"1",title:"Line",disabled:!1},{id:"2",title:"2D",disabled:!1},{id:"3",title:"3D",disabled:!1}].map(((e,t)=>n.a.createElement(d.a,{key:t},n.a.createElement(u.a,{href:"#",disabled:e.disabled,className:p()({active:this.state.activeTab===e.id}),onClick:()=>{this.toggle(e.id)}},n.a.createElement("i",{className:p()(e.icon,"d-sm-none","d-block","mr-1")}),e.title))))),n.a.createElement(h.a,{activeTab:this.state.activeTab,className:"mr-3 mt-4"},n.a.createElement(x.a,{tabId:"1"},n.a.createElement(g,null)),n.a.createElement(x.a,{tabId:"2"},n.a.createElement(M,null)),n.a.createElement(x.a,{tabId:"3"},n.a.createElement(N,null))))}}var H=B;t.default=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement(r.a,{className:"page-title align-items-center"},n.a.createElement(s.a,{sm:4,xl:8},n.a.createElement("h4",{className:"mb-1 mt-0"},"Status")),n.a.createElement(s.a,{sm:8,xl:4},n.a.createElement(o.a,{className:"react-select bg-white",classNamePrefix:"react-select",defaultValue:{value:"WH0001",label:"Ware House 1"},options:[{value:"WH0001",label:"Ware House 1"},{value:"WH0002",label:"Ware House 2"},{value:"WH0003",label:"Ware House 3"}]}))),n.a.createElement(r.a,null,n.a.createElement(s.a,{xs:12},n.a.createElement(c.a,null,n.a.createElement(l.a,null,n.a.createElement(H,null))))))}}}]);
//# sourceMappingURL=24.e744b6aa.chunk.js.map